<!-- REFERENCE FOR jQuery Bootstrap Plugin on the Sidebar -->
<!-- https://www.jqueryscript.net/slider/Responsive-jQuery-News-Ticker-Plugin-with-Bootstrap-3-Bootstrap-News-Box.html -->

<?php
  include ("includes/header.php");
?>

<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>jQuery Bootstrap News Box Plugin Demos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.2/flatly/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <link href="css/site.css?v3" rel="stylesheet" type="text/css" />
  <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="scripts/jquery.bootstrap.newsbox.js?v3" type="text/javascript"></script>
</head>

<body>
  <div id="jquery-script-menu">
  <div class="jquery-script-center">
  <div id="carbon-block"></div>
  <div class="jquery-script-ads">
    <script type="text/javascript"
      src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
    </script>
  </div>
  <div class="jquery-script-clear"></div>
  </div>
  </div>
  <h1 style="margin-top:150px" align="center">jQuery Bootstrap Plugin on the Sidebar</h1>
  <div class="container">
    <div class="row">
      <div class="col-md-3">
        <div class="card panel-default">
          <div class="card-header"> <span class="glyphicon glyphicon-list-alt"></span><b>Scrolling Plants</b></div>
          <div class="card-body">
            <div class="row">
              <div class="col-xs-12">
                <ul class="demo1">
                  <li class="news-item">
                    <table cellpadding="4">
                      <tr>
                      <td><img src="images/p1.jpg" width="60" class="img-circle" /></td>
                      <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in venenatis enim... <a href="#">Read more...</a></td>
                      </tr>
                    </table>
                  </li>
                  <li class="news-item">
                    <table cellpadding="4">
                      <tr>
                        <td><img src="images/p2.jpg" width="60" class="img-circle" /></td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in venenatis enim... <a href="#">Read more...</a></td>
                      </tr>
                    </table>
                  </li>
                  <li class="news-item">
                    <table cellpadding="4">
                      <tr>
                        <td><img src="images/p3.jpg" width="60" class="img-circle" /></td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in venenatis enim... <a href="#">Read more...</a></td>
                      </tr>
                    </table>
                  </li>
                  <li class="news-item">
                    <table cellpadding="4">
                      <tr>
                        <td><img src="images/p4.jpg" width="60" class="img-circle" /></td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in venenatis enim... <a href="#">Read more...</a></td>
                      </tr>
                    </table>
                  </li>
                  <li class="news-item">
                    <table cellpadding="4">
                      <tr>
                        <td><img src="images/p5.jpg" width="60" class="img-circle" /></td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in venenatis enim... <a href="#">Read more...</a></td>
                      </tr>
                    </table>
                  </li>
                  <li class="news-item">
                    <table cellpadding="4">
                      <tr>
                        <td><img src="images/p6.jpg" width="60" class="img-circle" /></td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in venenatis enim... <a href="#">Read more...</a></td>
                      </tr>
                    </table>
                  </li>
                  <li class="news-item">
                    <table cellpadding="4">
                      <tr>
                        <td><img src="images/p7.jpg" width="60" class="img-circle" /></td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in venenatis enim... <a href="#">Read more...</a></td>
                      </tr>
                    </table>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="card-footer"> </div>
        </div>
      </div>
      <!-- ENDOF col-md-3 -->

      <div class="col-md-9" style="display: flex; flex-wrap: wrap; justify-content: space-evenly;"> 
    
        <?php
          ///////////// DEFAULT QUERY: RETRIEVE EVERYTHING
          ///////////// IF NOTHING BELOW THEN THIS QUERY WILL STAND; OTHERWISE, IT WILL BE OVERWRITTEN
          $result = mysqli_query($con, "SELECT * FROM plant_catalog"); // SHOWS EVERYTHING
    
          //------------------------------------------------//
          //----------------  FILTERING DB  ----------------//
          $displayby = $_GET['displayby'];
          $displayvalue = $_GET['displayvalue'];
          if(isset($displayby) && isset($displayvalue)) {
            // HERE IS THE MAGIC: WE TELL OUR DB WHICH COLUMN TO LOOK IN, AND THEN WHICH VALUE FROM THAT COLUMN WE'RE LOOKING FOR
            $result = mysqli_query($con,"SELECT * FROM plant_catalog WHERE $displayby LIKE '$displayvalue' ") or die (mysql_error());   
          }
          //------------- END OF FILTERING DB --------------//
          //------------------------------------------------//
    
          //---------------------------------------------------//
          //--------  FILTERING DB USING BETWEEN QUERY  -------//
          $min = $_GET['min'];
          $max = $_GET['max'];
          if($displayby == "plant_price"){
            $result = mysqli_query($con,"SELECT * FROM plant_catalog WHERE plant_price BETWEEN '$min' AND '$max'");
          }
          //----  END OF FILTERING DB USING BETWEEN QUERY -----// 
          //---------------------------------------------------// 
        ?>
    
        <div class="square-cont">
          <!--------------------------------------------------------------------->
          <!-----------------  This is for the Thumbnail View. ------------------>
          <!------ This is where user can see the results of filter as well------>
          <?php while($row = mysqli_fetch_array($result)): ?> <!-- ternary operator with a colon ":" . THIS IS AN ALT SYNTAX-->
            
            <div style="float: left;
                width: 200px;
                height: 300px;
                border: 3px solid #ccc;
                border-radius: 10px;
                margin: 0 3px 10px 3px;
                padding:3px;"
                >
              
              <?php $id = ($row['id']); ?>
              <?php $plant_name = ($row['plant_name']); ?>
              <?php $plant_description = ($row['plant_description']); ?>
              <?php $plant_price = ($row['plant_price']); ?>
              <?php $plant_price = ($row['plant_image']); ?>
              <?php $plant_size = ($row['plant_size']); ?>
              <?php $plant_type = ($row['plant_type']); ?>
              <?php $plant_indoor = $row['plant_indoor']; ?>
              <?php $inventory = ($row['plant_inventory']); ?>
              <?php $inventory = ($row['plant_allseason']); ?>
              <?php $inventory = ($row['plant_bestseller']); ?> 
    
              <!----------------------------------------------------------------------------------->
              <!--------  THIS IS FOR IMAGES FROM SQUARE FOLDER, src is in the filezilla  ---------> 
              <!----------------------------------------------------------------------------------->
    
              <!----------------------------------------->
              <!-------- STYLE FOR HOVER IMAGES  -------->
    
              <style>
                .zoom {
                  transition: transform .2s;             
                }
                .zoom:hover {
                  -ms-transform: scale(1.1); /* IE 9 */
                  -webkit-transform: scale(1.1); /* Safari 3-8 */
                  transform: scale(1.1); 
                }
              </style>
              <!----- END OF STYLE FOR HOVER IMAGES  ---->
              <!----------------------------------------->
              <!-- onmouseover="shrinkImg(this)" onmouseout="normalImg(this)" -->
              <a href="display.php?id=<?php echo $row['id'] ?> ">
                <img class="zoom" src="uploads/square/<?php echo $row["plant_image"]; ?>" 
                  style="display: block;
                        margin-left: auto;
                        margin-right: auto;
                        width: 100%;"
                >   
              </a><br/>
    
              <?php
                echo "<div class=\"square-img\">";
                  echo "<center><b>" .$row["plant_name"] ."</center></b>\n";
                  echo "<b>Price: $ </b>". $row["plant_price"] ."<br />\n";
                  echo "<b>Size: </b>". $row["plant_size"] ."<br />\n";
                echo "</div>";
              ?>
            </div> <!--END of style-->
          <?php endwhile; ?>
          <!--------------  END OF This is for the Thumbnail View -------------->
          <!-------------------------------------------------------------------->
        </div>
      </div> 
      <!--END of col-md-9-->

    </div>
  </div>
  <!-- ENDOF container -->

  <script type="text/javascript">
      $(function () {
          $(".demo1").bootstrapNews({
              newsPerPage: 3,
              autoplay: true,
        pauseOnHover:true,
              direction: 'up',
              newsTickerInterval: 4000,
              onToDo: function () {
                  //console.log(this);
              }
          });
      });
  </script>

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36251023-1']);
    _gaq.push(['_setDomainName', 'jqueryscript.net']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>

  <script>
  try {
    fetch(new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js", { method: 'HEAD', mode: 'no-cors' })).then(function(response) {
      return true;
    }).catch(function(e) {
      var carbonScript = document.createElement("script");
      carbonScript.src = "//cdn.carbonads.com/carbon.js?serve=CK7DKKQU&placement=wwwjqueryscriptnet";
      carbonScript.id = "_carbonads_js";
      document.getElementById("carbon-block").appendChild(carbonScript);
    });
  } catch (error) {
    console.log(error);
  }
  </script>
</body>
</html>
